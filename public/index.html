<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>GraderBot</title>
	<link rel="stylesheet" href="css/styles.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
	<link rel="icon" type="image/x-icon" href="favicon.ico">
</head>

<body class="graderbot-main">
	<div class="container">
		<div id="description" class="sidebar-content main-app-sidebar">

			<div class="sidebar-items">

				<div id="icon-logo">
					<a href="/">
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="white" class="size-6">
							<path stroke-linecap="round" stroke-linejoin="round" d="M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5" />
						</svg>
					</a>
				</div>

			</div>

			<div class="sidebar-footer">

				<p class="settings-bottom">
					<a href="/config" id="config-link">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff"
							stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-settings">
							<circle cx="12" cy="12" r="3"></circle>
							<path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
							</path>
						</svg>
					</a>
				</p>

			</div>

		</div>

		<div role="main" class="main-app-content">

			<div class="main-app-header">
				<h1>GraderBot</h1>

				<p>Welcome to GraderBot. You will be guided through the process of uploading the necessary files and will then be presented with grades that GraderBot recommends. </p>
				<p class="notice">
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
						<path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z" />
					</svg>
					<strong>Remember:</strong> GraderBot results should be compared against your grades for the students and not used verbatim without validation.
				</p>

				<div class="task-description">
					<h2>Your Details</h2>
					<p>You are grading student responses for <span id="course-display"></span> within <span id="department-display"></span> at <span id="senate-display"></span></p>
				</div>

			</div>

			<div id="file-upload-process">
				<div id="upload-intro" class="upload-step">
					<h2>Using GraderBot</h2>
					<p>GradeBbot works by processing CSV files you upload, and then passing the data in those files to a Large Language Model. We need at least 3 files from you, but all 4 are preferred.</p>
					<ol class="graderbot-files-list">
						<li><strong>Questions</strong> and the associated <strong>maximum score</strong> for each question (required)</li>
						<li>A <strong>Grading scheme</strong> (optional if rubric is provided) and/or</li>
						<li>A <strong>Rubric</strong> (optional if grading scheme is provided)</li>
						<li><strong>Student responses</strong> associated with their student number (required)</li>
					</ol>
					<button id="start-upload-process" class="btn-primary">Get Started</button>
				</div>

				<div id="upload-questions" class="upload-step" hidden>
					<h2>Step 1: Upload Questions with Maximum Scores <span class="mini-badge required">Required</span></h2>

					<div class="upload-and-instructions">
						<div class="file-upload">
							<input type="file" id="csvFile1" name="csvFile1" accept=".csv" required>
						</div>

						<div class="file-description">
							<h3>CSV Instructions</h3>
							<p class="help">A CSV file containing 3 columns: "Question Number", "Question", and "Maximum Score". Each question on each its own row with each column completed.</p>
							<p class="example-file">
								<a href="https://ctlt-cms-main-2022.sites.olt.ubc.ca/files/2024/08/1-questions-and-max-score.csv">
									<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
										<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
									</svg>
									Download Example File
								</a>
							</p>
						</div>
					</div>

					<button id="next-to-grading-scheme" class="btn-primary" disabled>Next</button>
				</div>

				<div id="upload-grading-scheme" class="upload-step" hidden>
					<h2>Step 2: Upload Grading Scheme <span class="mini-badge recommended">Recommended</span></h2>

					<div class="upload-and-instructions">
						<div class="file-upload">
							<input type="file" id="csvFile2" name="csvFile2" accept=".csv">

						</div>

						<div class="file-description">
							<h3>CSV Instructions</h3>
							<p class="help">A CSV File containing multiple columns. The header for column one must be "Question Number". The
								remaining column headers are the score that the answers given in that column would receive. So if you have 3
								questions in your quiz, that score 5 marks, 7 marks, and 10 marks, you would have 10 additional columns numbered
								1 to 10. You can leave some answers empty. Please provide as many examples of answers per grade as you can as
								this will produce better results.</p>
							<p class="example-file">
								<a href="https://ctlt-cms-main-2022.sites.olt.ubc.ca/files/2024/08/1-grading-scheme.csv">
									<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
										<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
									</svg>
									Download Example File
								</a>
							</p>
						</div>
					</div>

					<button id="next-to-rubric" class="btn-primary">Next</button>
					<button id="skip-to-rubric" class="btn-secondary">Skip to Rubric</button>
				</div>

				<div id="upload-rubric" class="upload-step" hidden>
					<h2>Step 3: Upload Rubric <span class="mini-badge recommended">Recommended</span></h2>

					<div class="upload-and-instructions">
						<div class="file-upload">
							<input type="file" id="rubricFile" name="rubricFile" accept=".csv">

						</div>

						<div class="file-description">
							<h3>CSV Instructions</h3>
							<p class="help">A CSV file containing 1 column with the header 'Rubric'. Below that should be your grading rubric.</p>
							<p class="example-file">
								<a href="#">
									<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
										<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
									</svg>
									Download Example File
								</a>
							</p>
						</div>
					</div>

					<button id="next-to-responses" class="btn-primary">Next</button>
					<button id="skip-to-responses" class="btn-secondary" hidden>Skip to Student Responses</button>
				</div>

				<div id="upload-responses" class="upload-step" hidden>
					<h2>Step 4: Upload Student Responses <span class="mini-badge required">Required</span></h2>

					<div class="upload-and-instructions">

						<div class="file-upload">
							<input type="file" id="csvFile3" name="csvFile3" accept=".csv" required>

						</div>

						<div class="file-description">
							<h3>CSV Instructions</h3>
							<p class="help">A CSV file containing multiple columns. The first column must be "Student Number". You must then
								have 1 column per question such as "Question 1 Answer", "Question 2 Answer", etc. One row per student, with each
								of their answers in separate columns.</p>
							<p class="example-file">
								<a href="https://ctlt-cms-main-2022.sites.olt.ubc.ca/files/2024/08/1-student-answers.csv">
									<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
										<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
									</svg>
									Download Example File
								</a>
							</p>
						</div>

					</div>

					<button id="finish-upload-process" class="btn-primary" disabled>Finish</button>
				</div>
			</div>

			<div id="generate-responses-container" style="display: none;">

				<h2>Upload Complete.</h2>
				<p>Great! That's all the information we need from you. The next step is to send these details to a large language model. Press the Generate Responses button below to begin the process.</p>
				<p class="notice">Note: This process can take a while, depending on the size of your data.</p>

				<button id="generateButton" disabled style="display: none;">Generate Responses</button>
			</div>

			<div id="progress-container" class="hidden">
				Submissions are being processed. Currently <span id="progress-percentage">0%</span> complete.
				<div class="progress-bar">
					<div id="progress-bar-fill" class="progress-bar-fill"></div>
				</div>
			</div>

			<div id="response-message-and-responses" style="display: none;">

				<h2>Grading Results</h2>
				<p>
					You will find potential scores for each of the student's responses below.
					<button id="export-button" class="btn-secondary" style="display: none;">
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
							<path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
						</svg>
						And you can also export these as CSV
					</button>
				</p>

				<div id="response-container"></div>
			</div>

		</div>

	</div>

	<script type="module" src="js/main.js"></script>
	<script type="module" src="js/templates/index.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
</body>

</html>
